(function(){var define, self, global, require; (function() { var define; var self; var global; window.Amigo = window.Amigo || {}; window.Amigo.broadcasts = window.Amigo.broadcasts || []; window.Amigo.Polyfill = window.Amigo.Polyfill || {};  window.Amigo.Polyfill.Promise = Promise;  if (window.Amigo.store && window.Amigo.store.savePrevStorageID) { window.Amigo.store.savePrevStorageID('614444C8-8CC4-5783-9A17-7A8EB5865AC3'); } else { window.amigoData = window.amigoData || {}; window.amigoData.prevStorageId = '614444C8-8CC4-5783-9A17-7A8EB5865AC3'; }   window.Amigo.Polyfill.fetch = fetch;  function ensurePlugin(name, version) { return Promise.resolve().then(function() { if (window.Amigo.Plugins[name]) { return window.Amigo.Plugins[name].p; } window.Amigo.Plugins[name] = {}; window.Amigo.Plugins[name].p = new Promise(function(r, j) { window.Amigo.Plugins[name].resolve = r; window.Amigo.Plugins[name].reject = j; }); var s = document.createElement('script'); s.src = 'https://tag.getamigo.io/plugin/' + name + '/' + version + '/'; s.className = 'amigo-plugin'; s.onerrror = function(err) { window.Amigo.Plugins[name].reject(err); }; document.head.appendChild(s); return window.Amigo.Plugins[name].p; });}    var eventsReady = Promise.resolve();  eventsReady = new Promise(function (resolve, reject) {   Promise.resolve(function(){return Promise.reject(new Error("Trying to use elementReady in a listen when not ensured"))})  .then(function(waitFor){ function eventRegistrationScope(e){window.Amigo||(window.Amigo={}),window.Amigo.listenerStore||(window.Amigo.listenerStore={});var t=window.Amigo.listenerStore,n=document.querySelector.bind(document),o=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1};return function(i){function r(e,t){return function(n){window.Amigo.suspendListeners||t&&!o.call(n.target,t)||window.Amigo.load(e)}}function c(n){var o=n.type,i=t&&t[n.id]?t[n.id].cb:r(n.id,"dom"===o?n.sub_selector:void 0);"amigo"===o?t[n.id]||window.Amigo.addEventListener(n.event,i):e(n.element).then(function(e){var r=t[n.id];switch(o){case"dom":!r||r.el&&r.el===e||(e.addEventListener(n.event,i),r.el=e);break;case"jquery":e=window.jQuery(e),!r||r.el&&r.el.is(e)||(n.sub_selector?e.off(n.event,n.subselector,i).on(n.event,n.subselector,i):e.off(n.event,i).on(n.event,i),r.el=e);break;default:window.Amigo.util.log("Unknown type "+n.type+" given to eventlistener")}}),t[n.id]&&t[n.id].cb||(t[n.id]=n,t[n.id].cb=i)}if(i){var l=i.map(function(e){return e.id});Object.keys(t).filter(function(e){return l.indexOf(e)===-1}).forEach(function(e){var o,i=t[e];switch(i.type){case"dom":o=n(i.element),o&&o.removeEventListener&&o.removeEventListener(i.event,i.cb);break;case"amigo":window.Amigo.removeEventListener(i.event,i.cb);break;case"jquery":if(!(o=window.jQuery(i.element)))return;i.sub_selector?o.off(i.event,i.sub_selector,i.cb):o.off(i.event,i.cb);break;default:window.Amigo.util.log("Unknown type "+i.type+"given to eventlistener")}delete t[e]});for(var s=0,d=i.length;s<d;s++)c(i[s])}}} var elr = eventRegistrationScope(waitFor); elr([{"id":"dbb4be78-133e-4c0a-b4ab-ac540e959d70","type":"amigo","element":"window","event":"1 : save-data","sub_selector":null}]); resolve(); });  });     })();;
})();